(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{"/tWa":function(t,e,n){"use strict";var r=n("KI45");n("hfKm")(e,"__esModule",{value:!0}),e.default=void 0;var a=r(n("/HRN")),u=r(n("WaGi")),l=n("T89o"),i=r(n("Bk/R")),o=/https?:\/\//,c=/\/$/,s=/\/([a-z]{2}[-|_][a-zA-Z]{2}\/?)$/,f=/\/([a-z]{2}[-|_][a-zA-Z]{2})\/([\w\d_\-.]+)(\/.*)?/,p=/(www\.ferrari\.com|localhost:[0-9]+)\/([\w\d_-]+)(\/.*)?/,h=function(){function t(){(0,a.default)(this,t)}return(0,u.default)(t,null,[{key:"stripProtocol",value:function(t){return t.replace(o,"").replace(c,"")}},{key:"stripLocale",value:function(e){var n=t.stripProtocol(e);return f.test(n)?n.replace(f,"/$2$3").replace(c,""):s.test(n)?n.replace(s,"/").replace(c,""):n}},{key:"getApplication",value:function(e){var n=t.stripLocale(e);return p.test(n)?n.replace(p,"$1/$2").replace(c,""):n}},{key:"getStripHost",value:function(e){var n=i.default.host(e);return t.stripProtocol(n)}},{key:"getLinkValue",value:function(t,e){return(0,l.get)(t,e,"-1")}},{key:"getLinkUrl",value:function(e,n){var r=t.getLinkValue(e,n);return t.stripLocale(r)}},{key:"urlIsParentOfOrigin",value:function(t,e){return!(!t||!e||"-1"===t)&&(t===e||-1!==e.indexOf("".concat(t).concat("/"===t.slice(-1)?"":"/")))}},{key:"findTree",value:function(e,n){var r=t.stripLocale(n).replace(/localhost:[0-9]+/,"www.ferrari.com"),a=t.getApplication(n).replace(/localhost:[0-9]+/,"www.ferrari.com"),u="";return e.some((function(e,n){var a=(0,l.get)(e,"menuItems",[]);return a.some((function(e,a){var l=t.getLinkUrl(e,"content.link.url");return r===l&&(u="".concat(n,"-").concat(a),!0)})),""!==u||a.forEach((function(e,a){var i=t.getLinkUrl(e,"content.link.url");"list-of-links"===e.template?(0,l.get)(e,"content.menuItems",[]).forEach((function(e,i){var o=t.getLinkUrl(e,"link.url");t.urlIsParentOfOrigin(o,r)&&(u="".concat(n,"-").concat(a,"-").concat(i)),(0,l.get)(e,"menuItems.length",0)>0&&e.menuItems.forEach((function(e,l){var o=t.getLinkUrl(e,"link.url");t.urlIsParentOfOrigin(o,r)&&(u="".concat(n,"-").concat(a,"-").concat(i,"-").concat(l))}))})):""===u&&t.urlIsParentOfOrigin(i,r)&&(u="".concat(n,"-").concat(a))}))})),""===u&&e.some((function(e,n){return(0,l.get)(e,"menuItems",[]).some((function(e,r){var i=t.getLinkUrl(e,"content.link.url"),o=t.getApplication(i);return"list-of-links"===e.template?(0,l.get)(e,"content.menuItems",[]).forEach((function(e,r){var l=t.getLinkUrl(e,"link.url"),i=t.getApplication(l);return!!t.urlIsParentOfOrigin(i,a)&&(u="".concat(n),!0)})):!!t.urlIsParentOfOrigin(o,a)&&(u="".concat(n),!0)}))})),""===u&&e.some((function(e,r){var l=t.stripLocale(n),i=t.getLinkUrl(e,"link.url"),o=t.getApplication(i);return!(!t.urlIsParentOfOrigin(i,l)&&!t.urlIsParentOfOrigin(o,a))&&(u="".concat(r),!0)})),""===u&&e.some((function(e,r){var a=t.getStripHost(n);return t.getStripHost(t.getLinkValue(e,"link.url"))===a&&(u="".concat(r),!0)})),u}}]),t}();e.default=h},erMZ:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/news/article",function(){return n("la/w")}])},"la/w":function(t,e,n){"use strict";var r=n("KI45"),a=n("G4HQ"),u=n("hfKm"),l=n("2Eek"),i=n("XoMD"),o=n("Jo+v"),c=n("4mXO"),s=n("pLtp");u(e,"__esModule",{value:!0}),e.default=void 0;var f=r(n("ln6h")),p=r(n("eVuF")),h=r(n("/HRN")),d=r(n("ZDA2")),v=r(n("/+P4")),g=r(n("WaGi")),m=r(n("N9n2")),k=r(n("xHqa")),w=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==typeof t&&"function"!==typeof t)return{default:t};var n=X(e);if(n&&n.has(t))return n.get(t);var r={},a=u&&o;for(var l in t)if("default"!==l&&Object.prototype.hasOwnProperty.call(t,l)){var i=a?o(t,l):null;i&&(i.get||i.set)?u(r,l,i):r[l]=t[l]}r.default=t,n&&n.set(t,r);return r}(n("q1tI")),O=r(n("8Kt/")),y=n("eHHv"),P=n("nOHt"),L=r(n("SbWC")),b=r(n("kQFM")),I=r(n("WZaA")),_=r(n("Nnea")),S=r(n("NZQk")),A=r(n("9qRu")),H=r(n("qyhG")),U=n("T89o"),M=r(n("hzb8")),E=r(n("SHU5")),N=n("8ANe"),T=n("jTJQ"),D=n("gGHL"),V=n("mJQZ"),Z=n("LXYO"),C=n("+Fh1"),F=n("CX7h"),z=n("Tzds"),R=r(n("/tWa")),W=r(n("FT4/"));function X(t){if("function"!==typeof a)return null;var e=new a,n=new a;return(X=function(t){return t?n:e})(t)}var $=w.default.createElement;function j(t,e){var n=s(t);if(c){var r=c(t);e&&(r=r.filter((function(e){return o(t,e).enumerable}))),n.push.apply(n,r)}return n}function q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?j(Object(n),!0).forEach((function(e){(0,k.default)(t,e,n[e])})):i?l(t,i(n)):j(Object(n)).forEach((function(e){u(t,e,o(n,e))}))}return t}var G=function(t){function e(t){var n;(0,h.default)(this,e);var r=(n=(0,d.default)(this,(0,v.default)(e).call(this,t))).props.isServer;return n.state={splash:r,activeOrigin:null},n}return(0,m.default)(e,t),(0,g.default)(e,null,[{key:"getInitialProps",value:function(t){var e,n,r,a,u,l,i,o,c;return f.default.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e=t.asPath,n=t.store,r=t.query,a=t.isServer,(u=[]).push(H.default.newsDetail(r.locale,r.slug,r.accessCode,r.previewSlug).then((function(t){return t.data.results})).catch((function(t){return(0,A.default)(t)}))),a&&(u.push(H.default.superheader(r.locale).then((function(t){return t.data.results})).then((function(t){var e=t.content;n.dispatch((0,D.setPillars)(e))})).catch((function(t){return(0,A.default)(t)}))),u.push(H.default.superfooter(r.locale).then((function(t){return t.data.results})).then((function(t){var e=t.content;n.dispatch((0,V.setFooterData)(e))})).catch((function(t){return(0,A.default)(t)})))),s.next=6,f.default.awrap(p.default.all(u));case 6:return l=s.sent,i=(0,F.retrieveBaseUrl)(),o="".concat(i).concat(e),c=q({},l[0]),n.dispatch((0,Z.setChannelVariables)((0,U.get)(c,"variables",[]))),n.dispatch((0,C.setPageVariables)((0,U.get)(c,"content.pageVariables",[]))),s.abrupt("return",{pageData:c,isServer:a,canonicalUrl:o.split("?").shift()});case 13:case"end":return s.stop()}}))}}]),(0,g.default)(e,[{key:"componentDidMount",value:function(){var t=this;setTimeout((function(){t.hideSplash()}),1e3),this.setActiveOrigin()}},{key:"setActiveOrigin",value:function(){this.setState({activeOrigin:R.default.findTree(this.props.menuPillars,window.location.href)})}},{key:"hideSplash",value:function(){this.setState({splash:!1})}},{key:"render",value:function(){var t=this.props,e=t.router,n=t.url,r=t.title,a=t.metadata,u=t.canonicalUrl,l=t.pageData,i=this.state.activeOrigin;return $("div",null,$(O.default,null,r,a,$("meta",{name:"twitter:card",content:"summary_large_image"}),$("link",{rel:"amphtml",href:"".concat(u,"?amp=true")})),$(M.default,{visible:this.splashVisible}),$(E.default,null),$(T.Menu,{topbar:!0,activeOrigin:i}),$(T.ChannelMenu,{canShowMenuHeader:!0,pageData:l,menu:{activeOrigin:i}}),$("div",{className:W.default.page},$(N.NewsDetails,{content:l,url:n,show:!1,router:e,key:(0,U.get)(this.props,"url.fullPath",""),channel:"formula1"}),$(N.Footer,{referrer:(0,z.changeCountrySlug)(),origin:"FORMULA1"})))}},{key:"splashVisible",get:function(){return this.state.splash}}]),e}(w.Component);(0,k.default)(G,"defaultProps",{isServer:!1});var J=(0,y.compose)((0,L.default)(b.default,(function(t){return{menuPillars:t.menu.pillars}})),P.withRouter,I.default,S.default,_.default)(G);e.default=J}},[["erMZ",1,2,5,3,6,4,0,25,26,9]]]);