(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"/tWa":function(e,t,r){"use strict";var n=r("KI45");r("hfKm")(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("/HRN")),u=n(r("WaGi")),o=r("T89o"),l=n(r("Bk/R")),c=/https?:\/\//,i=/\/$/,s=/\/([a-z]{2}[-|_][a-zA-Z]{2}\/?)$/,f=/\/([a-z]{2}[-|_][a-zA-Z]{2})\/([\w\d_\-.]+)(\/.*)?/,p=/(www\.ferrari\.com|localhost:[0-9]+)\/([\w\d_-]+)(\/.*)?/,d=function(){function e(){(0,a.default)(this,e)}return(0,u.default)(e,null,[{key:"stripProtocol",value:function(e){return e.replace(c,"").replace(i,"")}},{key:"stripLocale",value:function(t){var r=e.stripProtocol(t);return f.test(r)?r.replace(f,"/$2$3").replace(i,""):s.test(r)?r.replace(s,"/").replace(i,""):r}},{key:"getApplication",value:function(t){var r=e.stripLocale(t);return p.test(r)?r.replace(p,"$1/$2").replace(i,""):r}},{key:"getStripHost",value:function(t){var r=l.default.host(t);return e.stripProtocol(r)}},{key:"getLinkValue",value:function(e,t){return(0,o.get)(e,t,"-1")}},{key:"getLinkUrl",value:function(t,r){var n=e.getLinkValue(t,r);return e.stripLocale(n)}},{key:"urlIsParentOfOrigin",value:function(e,t){return!(!e||!t||"-1"===e)&&(e===t||-1!==t.indexOf("".concat(e).concat("/"===e.slice(-1)?"":"/")))}},{key:"findTree",value:function(t,r){var n=e.stripLocale(r).replace(/localhost:[0-9]+/,"www.ferrari.com"),a=e.getApplication(r).replace(/localhost:[0-9]+/,"www.ferrari.com"),u="";return t.some((function(t,r){var a=(0,o.get)(t,"menuItems",[]);return a.some((function(t,a){var o=e.getLinkUrl(t,"content.link.url");return n===o&&(u="".concat(r,"-").concat(a),!0)})),""!==u||a.forEach((function(t,a){var l=e.getLinkUrl(t,"content.link.url");"list-of-links"===t.template?(0,o.get)(t,"content.menuItems",[]).forEach((function(t,l){var c=e.getLinkUrl(t,"link.url");e.urlIsParentOfOrigin(c,n)&&(u="".concat(r,"-").concat(a,"-").concat(l)),(0,o.get)(t,"menuItems.length",0)>0&&t.menuItems.forEach((function(t,o){var c=e.getLinkUrl(t,"link.url");e.urlIsParentOfOrigin(c,n)&&(u="".concat(r,"-").concat(a,"-").concat(l,"-").concat(o))}))})):""===u&&e.urlIsParentOfOrigin(l,n)&&(u="".concat(r,"-").concat(a))}))})),""===u&&t.some((function(t,r){return(0,o.get)(t,"menuItems",[]).some((function(t,n){var l=e.getLinkUrl(t,"content.link.url"),c=e.getApplication(l);return"list-of-links"===t.template?(0,o.get)(t,"content.menuItems",[]).forEach((function(t,n){var o=e.getLinkUrl(t,"link.url"),l=e.getApplication(o);return!!e.urlIsParentOfOrigin(l,a)&&(u="".concat(r),!0)})):!!e.urlIsParentOfOrigin(c,a)&&(u="".concat(r),!0)}))})),""===u&&t.some((function(t,n){var o=e.stripLocale(r),l=e.getLinkUrl(t,"link.url"),c=e.getApplication(l);return!(!e.urlIsParentOfOrigin(l,o)&&!e.urlIsParentOfOrigin(c,a))&&(u="".concat(n),!0)})),""===u&&t.some((function(t,n){var a=e.getStripHost(r);return e.getStripHost(e.getLinkValue(t,"link.url"))===a&&(u="".concat(n),!0)})),u}}]),e}();t.default=d},NZQk:function(e,t,r){"use strict";var n=r("KI45"),a=r("hfKm"),u=r("2Eek"),o=r("XoMD"),l=r("Jo+v"),c=r("4mXO"),i=r("pLtp"),s=r("pbKT");a(t,"__esModule",{value:!0}),t.default=function(e){var t=function(t){(0,m.default)(n,t);var r=function(e){var t=function(){if("undefined"===typeof Reflect||!s)return!1;if(s.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(s(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,O.default)(e);if(t){var a=(0,O.default)(this).constructor;r=s(n,arguments,a)}else r=n.apply(this,arguments);return(0,y.default)(this,r)}}(n);function n(){return(0,v.default)(this,n),r.apply(this,arguments)}return(0,g.default)(n,[{key:"metadata",get:function(){var e=(0,I.get)(this.props.pageData,"metadata",[]);if(e.some((function(e){return"og:image"===e.property}))){var t=[];e.some((function(e){return"og:image:width"===e.property}))||t.push({property:"og:image:width",content:"1200"}),e.some((function(e){return"og:image:height"===e.property}))||t.push({property:"og:image:height",content:"630"}),t.length>0&&(e=[].concat((0,h.default)(e),t))}return e}},{key:"title",get:function(){return(0,I.get)(this.props.pageData,"title","Ferrari")}},{key:"render",value:function(){var t=this.metadata.map((function(e,t){var r=e;return-1!==String((0,I.get)(e,"property","")).indexOf(":image")&&-1===String((0,I.get)(e,"property","")).indexOf(":image:")&&-1===String((0,I.get)(e,"content","")).indexOf("/")&&e.content&&(r=S({},r,{content:w.default.ferrariImageUrl(e.content,{width:1080})})),x("meta",(0,d.default)({key:t},r))})),r=x("title",null,this.title);return x(e,(0,d.default)({},this.props,{metadata:t,title:r}))}}],[{key:"getInitialProps",value:function(t){var r;return p.default.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(r={},!e.getInitialProps){n.next=5;break}return n.next=4,p.default.awrap(e.getInitialProps(t));case 4:r=n.sent;case 5:return n.abrupt("return",S({},r));case 6:case"end":return n.stop()}}),null,null,null,f.default)}}]),n}(b.default.Component);return(0,k.default)(t,"defaultProps",{pageData:{}}),t};var f=n(r("eVuF")),p=n(r("ln6h")),d=n(r("htGi")),h=n(r("TbGu")),v=n(r("/HRN")),g=n(r("WaGi")),m=n(r("N9n2")),y=n(r("ZDA2")),O=n(r("/+P4")),k=n(r("xHqa")),b=n(r("q1tI")),I=r("T89o"),w=n(r("DOE8")),x=b.default.createElement;function P(e,t){var r=i(e);if(c){var n=c(e);t&&(n=n.filter((function(t){return l(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){(0,k.default)(e,t,r[t])})):o?u(e,o(r)):P(Object(r)).forEach((function(t){a(e,t,l(r,t))}))}return e}},Nnea:function(e,t,r){"use strict";var n=r("5Uuq"),a=r("KI45"),u=r("hfKm"),o=r("2Eek"),l=r("XoMD"),c=r("Jo+v"),i=r("4mXO"),s=r("pLtp"),f=r("pbKT");u(t,"__esModule",{value:!0}),t.default=function(e){var t=function(t){(0,m.default)(n,t);var r=function(e){var t=function(){if("undefined"===typeof Reflect||!f)return!1;if(f.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(f(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,O.default)(e);if(t){var a=(0,O.default)(this).constructor;r=f(n,arguments,a)}else r=n.apply(this,arguments);return(0,y.default)(this,r)}}(n);function n(){return(0,v.default)(this,n),r.apply(this,arguments)}return(0,g.default)(n,[{key:"componentDidUpdate",value:function(e,t){var r=(0,I.get)(this.props,"share.scrolled",null),n=(0,I.get)(e,"share.scrolled",null);r&&n!==r&&this.sharedFocusOn&&this.props.dispatch((0,w.addPopup)({params:this.sharedFocusOn,template:this.sharedFocusOn.type}))}},{key:"sharedFocusOn",get:function(){var e=this.props,t=e.pageData,r=e.router,n=e.activeFocusOnCustom,a=(0,x.focusOnPayloadProxy)(n,r.query,r.asPath);return a||(0,x.getActiveFocusOn)(t.content.blocks,r.query.focusOn)}},{key:"render",value:function(){return S(k.default.Fragment,null,S(e,this.props),S(P.PopupManager,null))}}],[{key:"getInitialProps",value:function(t){var r;return d.default.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(r={},!e.getInitialProps){n.next=5;break}return n.next=4,d.default.awrap(e.getInitialProps(t));case 4:r=n.sent;case 5:return n.abrupt("return",T({},r));case 6:case"end":return n.stop()}}),null,null,null,p.default)}}]),n}(k.Component);return(0,b.connect)((function(e){return{share:e.share}}),null)(t)};var p=a(r("eVuF")),d=a(r("ln6h")),h=a(r("xHqa")),v=a(r("/HRN")),g=a(r("WaGi")),m=a(r("N9n2")),y=a(r("ZDA2")),O=a(r("/+P4")),k=n(r("q1tI")),b=r("/MKj"),I=r("T89o"),w=r("DzDn"),x=r("Tzds"),P=r("jTJQ"),S=k.default.createElement;function E(e,t){var r=s(e);if(i){var n=i(e);t&&(n=n.filter((function(t){return c(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){(0,h.default)(e,t,r[t])})):l?o(e,l(r)):E(Object(r)).forEach((function(t){u(e,t,c(r,t))}))}return e}},Tzds:function(e,t,r){"use strict";var n=r("KI45"),a=r("hfKm"),u=r("2Eek"),o=r("XoMD"),l=r("Jo+v"),c=r("4mXO"),i=r("pLtp");a(t,"__esModule",{value:!0}),t.default=t.getShareFocusOnMeta=t.focusOnPayloadProxy=t.changeCountrySlug=t.getActiveFocusOn=t.replaceMeta=void 0;var s=n(r("8+Nu")),f=n(r("v7Px")),p=n(r("eVuF")),d=n(r("ln6h")),h=n(r("xHqa")),v=r("T89o"),g=n(r("DOE8")),m=r("19JU"),y=r("QmWs");function O(e,t){var r=i(e);if(c){var n=c(e);t&&(n=n.filter((function(t){return l(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){(0,h.default)(e,t,r[t])})):o?u(e,o(r)):O(Object(r)).forEach((function(t){a(e,t,l(r,t))}))}return e}var b=function(e,t,r){var n=new RegExp(":?(".concat(t,")$"));return(e||[]).map((function(e){return e.name&&n.test(e.name)||e.property&&n.test(e.property)?k({},e,{content:r}):e}))};t.replaceMeta=b;var I=function(e,t){return e.find((function(e){return e.slug===t}))},w=function(e,t){return e.map((function(e){return(0,v.get)(e,"focusOn",{})})).find((function(e){return(0,v.get)(e,"slug",!1)===t}))};t.getActiveFocusOn=w;t.changeCountrySlug=function(){var e=m.window.location.pathname||"";return"/"!==e&&(e=(e=e.replace(/\/?([a-z]{2}-[A-Z]{2})?(.*)/,"$2")).replace("/auto","")),e};var x=function(e,t,r){var n,a,u,o,l,c,i,s,f,h,m,y,O;return d.default.async((function(p){for(;;)switch(p.prev=p.next){case 0:return n=e.folderId,a=t.locale,u=t.focusOn,o=t.focusOnSection,p.next=4,d.default.awrap(g.default.thronToken());case 4:return p.next=6,d.default.awrap(g.default.thronContentCategory(n));case 6:if(l=p.sent,c=String(a.split("-")[0]).toUpperCase(),!(i=l.filter((function(e){var t=g.default.thronFindLocaleName(e.locales,c);return(0,v.kebabCase)(t)===u}))[0])){p.next=23;break}if(f=g.default.thronFindLocaleName(i.locales,c),h=g.default.thronUrlImg(i.id,"1200x600",i.id,"thumbnail",{scalemode:"auto"}),s={},"PLAYLIST"!==i.contentType){p.next=21;break}return p.next=16,d.default.awrap(g.default.thronContentPlaylist(i.id));case 16:m=p.sent,s.items=m.map((function(e){var t=e.deliveryInfoMinimal;return{landscapeBig:{id:t.dynThumbService},portraitMedium:{id:t.dynThumbService}}})),s.items[o]&&(y=s.items[o].landscapeBig.id,h=g.default.ferrariImageResource(y,{width:1200,height:600})),p.next=22;break;case 21:"VIDEO"===i.contentType&&(s.videoId=i.id);case 22:s=k({blockType:r,id:i.id,type:i.contentType,metadatas:i.metadatas,locales:i.locales,src:h,subSection:(0,v.kebabCase)(f),name:f},s);case 23:return O={},s&&(s.blockType=r,O={share:{title:s.name,image:s.src}}),p.abrupt("return",{focusOn:s,metadata:O});case 26:case"end":return p.stop()}}),null,null,null,p.default)},P=function(e,t){var r,n,a;return d.default.async((function(u){for(;;)switch(u.prev=u.next){case 0:return r=t.focusOn,n=(0,v.get)(e,"items",[]).map((function(e){return(0,v.get)(e,"focusOn",{})})).filter((function(e){return e.slug===r}))[0],a={},n&&(n.blockType="StoriesSlider",a={share:n.share}),u.abrupt("return",{focusOn:n,metadata:a});case 5:case"end":return u.stop()}}),null,null,null,p.default)},S=function(e,t){var r,n,a;return d.default.async((function(u){for(;;)switch(u.prev=u.next){case 0:return r=t.focusOn,n=(0,v.get)(e,"items",[]).map((function(e){return(0,v.get)(e,"focusOn",{})})).filter((function(e){return e.slug===r}))[0],a={},n&&(n.blockType="StoriesGeoSlider",a={share:n.share}),u.abrupt("return",{focusOn:n,metadata:a});case 5:case"end":return u.stop()}}),null,null,null,p.default)},E=function(e,t){var r,n;return d.default.async((function(a){for(;;)switch(a.prev=a.next){case 0:return r={},(n=(0,v.get)(t,"focusOn",!1)&&{videoId:(0,v.get)(e,"cover.intero.full",(0,v.get)(e,"cover.coverType.video.intero.full")),slug:(0,v.get)(e,"slug","")})&&(n.blockType="CoverPlayer",r={share:n.share}),a.abrupt("return",{focusOn:n,metadata:r});case 4:case"end":return a.stop()}}),null,null,null,p.default)},T=function(e,t,r){var n,a,u;return d.default.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,d.default.awrap(g.default.thronContentDetails(t.focusOn));case 2:if(n=o.sent,a={},u=[],n){o.next=7;break}return o.abrupt("return",{focusOn:a,metadata:u});case 7:return a={blockType:r,videoId:n.id,moduleSlug:t.slug},u={share:k({},e.share)},o.abrupt("return",{focusOn:a,metadata:u});case 10:case"end":return o.stop()}}),null,null,null,p.default)},L=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default";switch(r){case"MediaGallery":case"MediaGalleryAdvanced":return x(e,t,r);case"StoriesGeoSlider":return S(e,t);case"StoriesSlider":return P(e,t);case"CoverPlayer":return E(e,t);case"FeaturedItems":return T(e,t,r);default:return(0,p.default)((function(e){return e(null)}))}};t.focusOnPayloadProxy=function(e,t,r){if(!(0,v.isPlainObject)(e))return null;switch(e.blockType){case"MediaGallery":case"MediaGalleryAdvanced":switch(e.type){case"PLAYLIST":var n=Number(t.focusOnSection),a=r;return r.match(/\/\d+$/)&&(a=r.replace(/\/\d+$/,"")),{type:"image-carousel",items:(0,v.get)(e,"items").map((function(e){return{images:e}})),focusOnShare:a,startIndex:(0,f.default)(n)?0:n};case"VIDEO":return{type:"full-video",autoplay:!1,thronMediaId:(0,v.get)(e,"videoId"),focusOnShare:r};default:return{}}case"StoriesGeoSlider":case"StoriesSlider":return e;case"CoverPlayer":return{type:"full-video",autoplay:!1,thronMediaId:(0,v.get)(e,"videoId"),focusOnShare:r,moduleSlug:(0,v.get)(e,"slug")};case"FeaturedItems":var u=e.videoId,o=e.moduleSlug;return u&&o&&r?{type:"full-video",autoplay:!0,thronMediaId:u,focusOnShare:r,moduleSlug:o}:null;default:return null}};t.getShareFocusOnMeta=function(e,t,r){var n,a,u,o,l,c,i,f,h;return d.default.async((function(p){for(;;)switch(p.prev=p.next){case 0:if(!(n=I(e.content.blocks,t.slug))){p.next=18;break}if(-1===["MediaGallery","MediaGalleryAdvanced","StoriesSlider","StoriesGeoSlider","CoverPlayer","FeaturedItems"].indexOf(n.type)){p.next=12;break}return p.next=5,d.default.awrap(L(n,t,n.type));case 5:o=p.sent,l=o.focusOn,c=o.metadata,a=l,u=c,p.next=13;break;case 12:a=w(e.content.blocks,t.focusOn);case 13:return(0,v.get)(u,"share",!1)?i=u:(0,v.get)(n,"share",!1)&&(i=n),f=e.metadata,i&&(h=i.share,(0,v.toPairs)(h).forEach((function(e){var t=(0,s.default)(e,2),r=t[0],n=t[1];f=b(f,r,n)}))),f=b(f,"url",new y.URL(r,"https://www.ferrari.com/auto")),p.abrupt("return",{focusOn:a,metadata:f});case 18:return p.abrupt("return",null);case 19:case"end":return p.stop()}}),null,null,null,p.default)};t.default={}},"s+xg":function(e,t,r){"use strict";var n=r("KI45"),a=r("hfKm"),u=r("2Eek"),o=r("XoMD"),l=r("Jo+v"),c=r("4mXO"),i=r("pLtp"),s=r("pbKT");a(t,"__esModule",{value:!0}),t.default=function(e){var t=function(t){(0,v.default)(n,t);var r=function(e){var t=function(){if("undefined"===typeof Reflect||!s)return!1;if(s.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(s(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,m.default)(e);if(t){var a=(0,m.default)(this).constructor;r=s(n,arguments,a)}else r=n.apply(this,arguments);return(0,g.default)(this,r)}}(n);function n(){return(0,d.default)(this,n),r.apply(this,arguments)}return(0,h.default)(n,[{key:"hasError",get:function(){return null!==this.props.pageError}},{key:"render",value:function(){var t=this.props,r=this.hasError,n=t.localeUrl;return r?I(k.default,{error:t.pageError,localeUrl:n}):I(e,this.props)}}],[{key:"getInitialProps",value:function(t){var r,n,a;return p.default.async((function(u){for(;;)switch(u.prev=u.next){case 0:if(r=window.location.href.split("/"),n=r[1].split("?")[0]||"en-EN",a={},!e.getInitialProps){u.next=7;break}return u.next=6,p.default.awrap(e.getInitialProps(t));case 6:a=u.sent;case 7:return u.abrupt("return",x({},a,{localeUrl:n}));case 8:case"end":return u.stop()}}),null,null,null,f.default)}}]),n}(O.default.Component);(0,y.default)(t,"defaultProps",{pageError:null});return(0,b.connect)((function(e){return{pageError:e.error.error}}),null)(t)};var f=n(r("eVuF")),p=n(r("ln6h")),d=n(r("/HRN")),h=n(r("WaGi")),v=n(r("N9n2")),g=n(r("ZDA2")),m=n(r("/+P4")),y=n(r("xHqa")),O=n(r("q1tI")),k=n(r("Y0NT")),b=(r("ANjH"),r("/MKj")),I=O.default.createElement;function w(e,t){var r=i(e);if(c){var n=c(e);t&&(n=n.filter((function(t){return l(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){(0,y.default)(e,t,r[t])})):o?u(e,o(r)):w(Object(r)).forEach((function(t){a(e,t,l(r,t))}))}return e}}}]);